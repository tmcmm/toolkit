---

tools:
  - alias: mvn
    image: tmcmm/maven
    run_envs: '-e HOME=$HOME -e MAVEN_CONFIG=$HOME'

  - alias: dockerfile_lint
    image: docker.io/projectatomic/dockerfile-lint:latest

  - alias: ansible
    image: tmcmm/ansible

  - alias: ansible-playbook
    image: tmcmm/ansible
    run_user: ''

  - alias: helm3
    image: tmcmm/helm3

  - alias: kubectl
    image: tmcmm/helm3
    run_interaction: '-ti --rm'
    run_envs: '-e KUBECONFIG=$KUBECONFIG'
  
  - alias: jinja2
    image: tmcmm/jinja2
  
  - alias: docker-compose
    image: tmcmm/docker-compose
    run_add_vols: '-v /var/run/docker.sock:/var/run/docker.sock'
    privileged: true
    run_user: '-u 0:0'

  - alias: netdebug  
    image: tmcmm/netdebug
    run_interaction: '-ti --rm'

defaults:
  run_interaction: '-i --rm'
  run_user: '-u `id -u`:`id -g`'
  run_vols: '-v $HOME:$HOME -v /tmp:/tmp -v `echo "/$(echo "$PWD" | cut -d "/" -f2)"`:`echo "/$(echo "$PWD" | cut -d "/" -f2)"`'
  run_workdir: '-w $PWD'
  run_envs: '-e HOME=$HOME'
  image: docker.io/library/alpine:latest
  run_ports: ''
  run_add_vols: ''
